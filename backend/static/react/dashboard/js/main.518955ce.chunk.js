(window.webpackJsonpdashboard=window.webpackJsonpdashboard||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"media/up-arrow.305e2626.svg"},20:function(e,t,a){e.exports=a.p+"media/down-arrow.852e4fbe.svg"},25:function(e,t,a){e.exports=a(48)},30:function(e,t,a){},31:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(12),l=a.n(r),c=(a(30),a(9)),s=a(6),o=a(1),u=a(2),p=a(4),d=a(3),h=a(5),f=(a(31),a(8)),m=a.n(f),g=a(19),b=a.n(g),v=a(20),j=a.n(v),E=a(7);function y(){var e=Object(s.a)(["\n  opacity: ",";\n  padding: 10px;\n  z-index: 1;\n  position: absolute;\n  background-color: #FFB5A5\n  border-radius: 5px;\n  margin-left: ","px;\n  margin-top: -7px;\n"]);return y=function(){return e},e}function O(){var e=Object(s.a)(["\n  width: ","%;\n  height: 20px;\n  background-color: ",";\n  border-radius: 1px;\n"]);return O=function(){return e},e}function P(){var e=Object(s.a)(["\n  width: 100%;\n  height: 20px;\n  background: #FFFFFF;\n  border-color: #bebebe;\n  border-style: solid;\n  border-radius: 4px;\n  align-items: left;\n"]);return P=function(){return e},e}var k=E.a.div(P()),C=E.a.div(O(),(function(e){return e.percentage}),(function(e){return e.colour})),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={fillup:e.efficiency/200*100,barColour:"#00CC66"},e.efficiency>=100?a.state.barColour="#00CC66":e.efficiency>=50?a.state.barColour="#FF8429":e.efficiency<50&&(a.state.barColour="#DE614A"),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("html",null,i.a.createElement(k,null,i.a.createElement(C,{percentage:this.state.fillup,colour:this.state.barColour})))}}]),t}(i.a.Component),S=E.a.span(y(),(function(e){return e.visible}),(function(e){return e.leftMargin})),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).updateVisibility=function(){0===a.state.ToolTipTextVisible?a.setState({ToolTipTextVisible:.95}):a.setState({ToolTipTextVisible:0})},a.state={abbrv:e.abbrv,skillTitle:e.skillTitle,efficiency:e.efficiency,ToolTipTextVisible:0},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.abbrv?this.setState({abbrv:e.abbrv}):e.skillTitle?this.setState({skillTitle:e.skillTitle}):e.efficiency&&this.setState({efficiency:e.efficiency})}},{key:"render",value:function(){return this.state.abbrv?i.a.createElement("html",null,i.a.createElement("button",{onClick:this.updateVisibility,class:"progressBarSkill",title:"Click to view more detail"},this.props.abbrv),i.a.createElement(S,{visible:this.state.ToolTipTextVisible,leftMargin:Math.round(30-1.5*this.props.abbrv.length)},this.props.skillTitle,": ",this.props.efficiency,"/200")):i.a.createElement("div",null,"Error")}}]),t}(i.a.Component),T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={percentageEfficiency:Math.round(e.efficiency/200*100)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.state={percentageEfficiency:Math.round(this.props.efficiency/200*100)},this.props?i.a.createElement("html",null,i.a.createElement("div",{class:"progressBarEfficiencyValue"},this.state.percentageEfficiency,"%"),i.a.createElement("table",{class:"EfficienciesTable",align:"centre"},i.a.createElement("tr",null,i.a.createElement("td",{class:"progressBarSkillTD"},i.a.createElement(x,{class:"progressBarSkill",abbrv:this.props.skillAbbrv,skillTitle:this.props.skillTitle,efficiency:this.props.efficiency})),i.a.createElement("td",{class:"progressBarBarTD"},i.a.createElement("div",{class:"progressBarBar"},i.a.createElement(w,{efficiency:this.props.efficiency})))))):i.a.createElement("div",null,"No props")}}]),t}(i.a.Component),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).updateLength=function(){return a.state.length>a.state.data.length?a.state.data.length:a.state.length},a.dataToPresent=function(e){var t;if(!e)return i.a.createElement("div",null,"No data in props");try{if(a.state.title&&e.length&&0!==a.state.length)return e.length<a.state.length?(a.setState({length:e.length}),t=e.slice(0,e.length)):t=e.slice(0,a.state.length),i.a.createElement("span",null,t&&t.length&&t.map((function(e,t){return i.a.createElement(T,{skillTitle:e.skillTitle,skillAbbrv:e.skillAbbrv,efficiency:e.avg})})));if(!a.state.title)return i.a.createElement("div",null,"No title");if(!e.length){return i.a.createElement("html",{style:{margin:"10px","padding-left":"3vw","padding-right":"3vw"}},i.a.createElement("div",null,"You don't have any skills yet!"),i.a.createElement("br",null),i.a.createElement("div",null,"Complete tasks to see your statistics"))}if(0===a.state.length)return i.a.createElement("div",null,"No length")}catch(n){return void console.log("Present data error")}},a.increaseLength=function(){a.state.length<a.state.data.length&&(a.setState({length:a.state.length+=1}),a.setState({presentableData:a.dataToPresent(a.state.data)}))},a.decreaseLength=function(){a.state.length>1&&(a.setState({length:a.state.length-=1}),a.setState({presentableData:a.dataToPresent(a.state.data)}))},a.state={title:"",data:[],presentableData:"",length:5,lengthIfDataSmallerThanLength:e.data.length},a.setState({data:e.data}),a.setState({presentableData:a.dataToPresent(e.data)}),a.state.title=e.title,a.setState({length:e.length}),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&(e.data&&(this.setState({data:e.data}),this.setState({presentableData:this.dataToPresent(e.data)})),e.title&&this.setState({title:e.title}),e.length&&this.setState({length:e.length}))}},{key:"render",value:function(){return i.a.createElement("html",{className:"widget"},i.a.createElement("span",{class:"EfficiencyWidgetTitleBar"},i.a.createElement("b",null,this.state.title," "),this.updateLength(),"/",this.state.data.length,i.a.createElement("button",{class:"ArrowButton",onClick:this.increaseLength,title:"Show more"},i.a.createElement("img",{class:"arrowsvg",src:j.a,title:"Show more"})),i.a.createElement("button",{class:"ArrowButton",onClick:this.decreaseLength,title:"Show less"},i.a.createElement("img",{class:"arrowsvg",src:b.a,title:"Show less"}))),i.a.createElement("div",{class:"efficiencyWidgetData"},this.state.presentableData))}}]),t}(i.a.Component);function U(){var e=Object(s.a)(["\n  border: none;\n  width: -webkit-fill-available;\n  padding: 10px;\n  font-size: 2vh;\n\n  &:hover {\n    border: none;\n  }\n\n  &:focus {\n    border: none;\n    outline: none;\n  }\n"]);return U=function(){return e},e}function B(){var e=Object(s.a)(["\n  width: 54%;\n  margin-left: auto;\n  margin-right: auto;\n  border-radius: 6px;\n  cursor: default;\n  border-color: #dbdbdb;\n  border-width: medium;\n  border-style: dashed;\n\n  &:hover {\n    border-style: solid;\n  }\n"]);return B=function(){return e},e}function D(){var e=Object(s.a)(["\n  background-color: #80b3ff;\n  width: 50%;\n  margin-left: auto;\n  margin-right: auto;\n  border-radius: 6px;\n  padding: 10px;\n  cursor: default;\n\n  &:hover {\n    box-shadow: 0 0 6px 1px #bebebe;\n  }\n"]);return D=function(){return e},e}var V=E.a.div(D()),M=E.a.div(B()),F=E.a.button(U()),W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={projects:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({projects:e.projects})}},{key:"render",value:function(){return i.a.createElement("html",{class:"widget"},i.a.createElement("div",null,i.a.createElement("b",null,this.props.title)),i.a.createElement("p",null),this.state.projects&&this.state.projects.length&&this.state.projects.map((function(e,t){return i.a.createElement("div",null,i.a.createElement(V,null,e.title),i.a.createElement("p",null))})),i.a.createElement(M,null,i.a.createElement(F,{onClick:this.props.triggerParentUpdate},"Create Project")))}}]),t}(i.a.Component);a(36);function A(){var e=Object(s.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  -webkit-appearance: none;\n  width: 100%;\n  padding: 10px;\n  text-align: centre;\n  text-align-last: center;\n\n  &:focus {\n    outline: none;\n  }\n"]);return A=function(){return e},e}function L(){var e=Object(s.a)(["\n  visibility: ",";\n  background: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 2;\n"]);return L=function(){return e},e}function z(){var e=Object(s.a)(["\n  background-color: white;\n  border-radius: 10px;\n  visibility: ",";\n  padding: 40px;\n  width: 30vw;\n  position: absolute;\n  left: 50%;\n  margin-left: -20vw;\n  top: 50%;\n  margin-top: -50px;\n  z-index: 999;\n"]);return z=function(){return e},e}var R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).selectChange=function(e){for(var t=0;t<a.props.items.length;t++)if(a.props.items[t].title===e.target.value)return void a.props.triggerParentUpdate(e.target.value,a.props.items[t].id);a.props.triggerParentUpdate(e.target.value,0)},a.state={title:e.title||"title",items:e.items},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.title&&this.setState({title:e.title}),e.items&&this.setState({items:e.items})}},{key:"render",value:function(){if("Your Profile"===this.state.title)return i.a.createElement("html",null,i.a.createElement("select",{id:"ProjectViewDropdown",class:"ProjectViewDropdown",onChange:this.selectChange},i.a.createElement("option",{value:"profile"},this.props.title),this.state.items&&this.state.items.length&&this.state.items.map((function(e,t){return i.a.createElement("option",{value:e.title},e.title)}))));this.props.projectid;for(var e=0;e<this.props.items.length;e++)this.props.items[e].title===this.state.title&&this.props.items.splice(e,1);return i.a.createElement("html",null,i.a.createElement("select",{id:"ProjectViewDropdown",class:"ProjectViewDropdown",onChange:this.selectChange},i.a.createElement("option",{value:this.state.title},this.state.title),this.state.items&&this.state.items.length&&this.state.items.map((function(e,t){return i.a.createElement("option",{value:e.title},e.title)})),i.a.createElement("option",{value:"profile"},"Your Profile")))}}]),t}(i.a.Component),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).logOut=function(){window.location.href="/"},a.state={username:"",page:"",projects:[]},a.setState({username:e.username}),a.setState({page:e.page}),a.setState({projects:e.projects}),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({username:e.username}),this.setState({page:e.page}),e.projects&&this.setState({projects:e.projects})}},{key:"render",value:function(){return i.a.createElement("html",null,i.a.createElement("div",{className:"NavBar"},i.a.createElement("b",null,i.a.createElement("a",null,i.a.createElement("button",{onClick:this.logOut},"Log Out"))),i.a.createElement("b",null,i.a.createElement("a",null,"Welcome, ",this.state.username)),i.a.createElement("a",{class:"pageStateNavBar"},"Currently Viewing: ",i.a.createElement(R,{title:this.state.page,items:this.props.projects,triggerParentUpdate:this.props.triggerParentUpdate,projectid:this.props.projectid}))))}}]),t}(i.a.Component),G=E.a.div(z(),(function(e){return e.visible})),J=E.a.button(L(),(function(e){return e.visible})),I=E.a.select(A()),q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).getUserProfileData=function(){var e=Object(c.a)(a);m()(document).ready((function(){var t=m.a.ajax({url:"/getuserprofile",type:"POST",data:{}});try{t.done((function(t){e.setState({username:t.username}),e.setState({projects:t.projects}),e.setState({timeEfficienciesMax:t.timeEfficienciesMax}),e.setState({timeEfficienciesMin:t.timeEfficienciesMin})}))}catch(a){console.log("Error")}}))},a.addEfficiency=function(){Object(c.a)(a);m()(document).ready((function(){var e=m.a.ajax({url:"/addefficiency",type:"POST",data:{}});try{e.done((function(e){}))}catch(t){}})),window.location.reload()},a.createNewProject=function(){a.setState({CreateProjectPopUpVisibility:"visible"})},a.clickOffCreateProjectPopUp=function(){"False"===a.state.cancelClickOff?a.setState({CreateProjectPopUpVisibility:"hidden"}):a.state.cancelClickOff="False"},a.clickCreateProjectPopupCreateButton=function(){a.state.cancelClickOff="True"},a.clickCreateProjectPopupCancelButton=function(){a.setState({CreateProjectPopUpVisibility:"hidden"})},a.submitNewProject=function(){var e=m()("#projecttitle").val(),t=m()("#priceplan").val();if(""!==e&&null!==t){var n={title:e,pricing:t};Object(c.a)(a);m()(document).ready((function(){var e=m.a.ajax({url:"/createproject",type:"POST",data:JSON.stringify(n),dataType:"json",contentType:"application/json;charset=utf-8"});try{e.done((function(e){window.location.reload()}))}catch(t){}}))}},a.state={username:"",projects:[],timeEfficienciesMax:[],timeEfficienciesMin:[],CreateProjectPopUpVisibility:"hidden",cancelClickOff:"False"},a.setState({CreateProjectPopUpVisibility:"hidden"}),a.getUserProfileData(),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"removeformsubmit",value:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},{key:"render",value:function(){return i.a.createElement("html",null,i.a.createElement(Y,{className:"NavBar",username:this.state.username,projects:this.state.projects,page:"Your Profile",triggerParentUpdate:this.props.triggerParentUpdate,projectid:0}),i.a.createElement("body",{className:"Body"},i.a.createElement(J,{visible:this.state.CreateProjectPopUpVisibility,onClick:this.clickOffCreateProjectPopUp},i.a.createElement(G,{visible:this.state.CreateProjectPopUpVisibility,onClick:this.clickCreateProjectPopupCreateButton},i.a.createElement("div",{style:{display:"grid"}},i.a.createElement("div",{style:{"font-size":"2.5vh","padding-bottom":"3vh"}},i.a.createElement("b",null,"Create a new project")),i.a.createElement("div",null,i.a.createElement("form",{style:{display:"grid"},onSubmit:this.removeformsubmit},i.a.createElement("input",{type:"text",className:"boxinput",placeholder:"project title",name:"projecttitle",id:"projecttitle",onInput:this.clickCreateProjectPopupCreateButton,required:!0,style:{"margin-left":"auto","margin-right":"auto",width:"100%","text-align":"center"}}),i.a.createElement("p",null),i.a.createElement(I,{id:"priceplan",required:!0},i.a.createElement("option",{value:"",disabled:!0,selected:!0},"select price plan"),i.a.createElement("option",{value:"silver"},"silver"),i.a.createElement("option",{value:"gold"},"gold"),i.a.createElement("option",{value:"diamond"},"diamond"),i.a.createElement("option",{value:"platinum"},"platinum")),i.a.createElement("p",null),i.a.createElement("div",{style:{display:"inline-flex","margin-left":"auto","margin-right":"auto"}},i.a.createElement("input",{type:"reset",value:"Cancel",onClick:this.clickCreateProjectPopupCancelButton}),i.a.createElement("div",{style:{"padding-left":"14vw"}}),i.a.createElement("button",{onClick:this.submitNewProject},"Create"))))))),i.a.createElement("button",{onClick:this.addEfficiency}),i.a.createElement("div",{className:"widgets"},i.a.createElement("div",{className:"widgets-column"},i.a.createElement(N,{title:"What you're good at",data:this.state.timeEfficienciesMax,length:7}),i.a.createElement("div",{className:"verticalWidgetGap"}),i.a.createElement(N,{title:"Gaps in your skills",data:this.state.timeEfficienciesMin,length:5})),i.a.createElement("div",{className:"horizontalWidgetGap"}),i.a.createElement("div",{className:"widgets-column"},i.a.createElement(W,{title:"Your projects",projects:this.state.projects,triggerParentUpdate:this.createNewProject}),i.a.createElement("div",{className:"verticalWidgetGap"}),i.a.createElement(N,{title:"What you're good at",data:this.state.timeEfficienciesMax,length:9})))),i.a.createElement("footer",{className:"footer"},i.a.createElement("b",null,"Alex Bainbridge 2019-2020 NEA")))}}]),t}(i.a.Component),H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).getUserProjectData=function(e){var t=Object(c.a)(a);m()(document).ready((function(){var a=m.a.ajax({url:"/getuserproject",type:"POST",data:JSON.stringify({projectid:e}),dataType:"json",contentType:"application/json;charset=utf-8"});try{a.done((function(e){t.setState({username:e.username}),t.setState({projects:e.projects}),t.setState({title:e.title})}))}catch(n){}}))},a.state={username:"",projects:[],projectid:0,title:""},a.setState({projectid:e.projectid}),a.getUserProjectData(e.projectid),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(Y,{className:"NavBar",username:this.state.username,page:this.state.title,projects:this.state.projects,triggerParentUpdate:this.props.triggerParentUpdate,projectid:this.props.projectid})}}]),t}(i.a.Component),K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).updatePage=function(e,t){a.setState({page:e}),a.state.projectid=t},a.state={page:"",projectid:0},a.state.page="profile",a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return"profile"===this.state.page?i.a.createElement(q,{triggerParentUpdate:this.updatePage}):i.a.createElement(H,{projectid:this.state.projectid,triggerParentUpdate:this.updatePage})}}]),t}(i.a.Component);l.a.render(i.a.createElement(K,null),document.getElementById("body"))}},[[25,1,2]]]);
//# sourceMappingURL=main.518955ce.chunk.js.map