{"version":3,"sources":["App.js","index.js"],"names":["EfficienciesWidget","props","increaseLength","state","length","data","setState","dataToPresent","decreaseLength","title","nextProps","this","value","presentable","console","log","JSON","stringify","slice","e","map","skill","i","React","createElement","class","onClick","presentableData","Component","Body","getUserData","_this","$","document","ready","req","ajax","url","type","done","username","timeEfficienciesMax","timeEfficienciesMin","className","ReactDOM","render","getElementById"],"mappings":"4SAIMA,E,YAEJ,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KA0DRC,eAAiB,WACX,EAAKC,MAAMC,QAAU,EAAKD,MAAME,KAAKD,SACvC,EAAKE,SAAS,CAAC,OAAS,EAAKH,MAAMC,QAAQ,IAC3C,EAAKE,SAAS,CAAC,gBAAmB,EAAKC,cAAc,EAAKJ,MAAME,UA9DjD,EAiEnBG,eAAiB,WACX,EAAKL,MAAMC,OAAS,IACtB,EAAKE,SAAS,CAAC,OAAS,EAAKH,MAAMC,QAAQ,IAC3C,EAAKE,SAAS,CAAC,gBAAmB,EAAKC,cAAc,EAAKJ,MAAME,UAlElE,EAAKF,MAAQ,CAAC,MAAQ,GAAG,KAAO,GAAG,gBAAkB,GAAG,OAAS,GACjE,EAAKG,SAAS,CAAC,KAAOL,EAAMI,OAC5B,EAAKC,SAAS,CAAC,gBAAmB,EAAKC,cAAcN,EAAMI,QAC3D,EAAKF,MAAMM,MAAQR,EAAMQ,MACzB,EAAKH,SAAS,CAAC,OAASL,EAAMG,SANb,E,uFASOM,GACpBA,IAAcC,KAAKV,MAAMW,QACvBF,EAAUL,MACZM,KAAKL,SAAS,CAAC,KAAQI,EAAUL,OACjCM,KAAKL,SAAS,CAAC,gBAAmBK,KAAKJ,cAAcG,EAAUL,SAExDK,EAAUD,MACjBE,KAAKL,SAAS,CAAC,MAAQI,EAAUD,SAGjCE,KAAKL,SAAS,CAAC,MAAQI,EAAUD,QACjCE,KAAKL,SAAS,CAAC,KAAQI,EAAUL,OACjCM,KAAKL,SAAS,CAAC,gBAAmBK,KAAKJ,cAAcG,EAAUL,Y,oCAKvDA,GACZ,IAAIQ,EAEJ,GAAKR,EAIH,IACMA,EAAKD,QAAUO,KAAKR,MAAMC,QAE5BU,QAAQC,IAAI,YAAYC,KAAKC,UAAUZ,IAEvCQ,EAAcR,EAAKa,MAAM,EAAEb,EAAKD,OAAO,GAEvCU,QAAQC,IAAI,wBAAwBC,KAAKC,UAAUZ,EAAKa,MAAM,EAAEb,EAAKD,OAAO,OAG5EU,QAAQC,IAAI,cAAcC,KAAKC,UAAUZ,IACzCQ,EAAcR,EAAKa,MAAM,EAAEP,KAAKR,MAAMC,QACtCU,QAAQC,IAAI,0BAA0BC,KAAKC,UAAUZ,EAAKa,MAAM,EAAEb,EAAKD,OAAO,MAGlF,MAAOe,SAlBPN,EAAc,GAqBhB,OACE,6BACCA,GAAeA,EAAYT,QAC1BS,EAAYO,KAAI,SAACC,EAAOC,GAAR,OAAcC,IAAMC,cAAc,MAAO,GAAI,UAAUH,EAAK,MAAU,qBAAqBA,EAAK,W,+BAmBpH,OACE,8BACA,0BAAMI,MAAM,4BACV,2BAAId,KAAKR,MAAMM,OACf,4BAAQiB,QAASf,KAAKT,gBAAtB,MACA,4BAAQwB,QAASf,KAAKH,gBAAtB,SAEF,2BAAIG,KAAKR,MAAMwB,sB,GAlFYJ,IAAMK,WAwF1BC,EAAb,YA0BE,WAAY5B,GAAQ,IAAD,8BAEjB,4CAAMA,KAtBR6B,YAAc,WACZ,IAAIC,EAAK,eACTC,IAAEC,UAAUC,OAAM,WAEhB,IAAIC,EAAMH,IAAEI,KAAK,CAACC,IAAK,WACLC,KAAM,OACNjC,KAAM,KAGxB,IACE8B,EAAII,MAAK,SAASlC,GAChB0B,EAAMzB,SAAS,CAACkC,SAAUnC,EAAKmC,WAC/BT,EAAMzB,SAAS,CAACmC,oBAAqBpC,EAAKoC,sBAC1CV,EAAMzB,SAAS,CAACoC,oBAAqBrC,EAAKqC,yBAG9C,MAAOvB,SAST,EAAKhB,MAAQ,CACXqC,SAAU,GACVC,oBAAqB,GACrBC,oBAAqB,IAEvB,EAAKZ,cAVY,EA1BrB,sEAyCM,OACA,8BACA,wBAAIa,UAAU,SAAQ,uCAAahC,KAAKR,MAAMqC,WAC9C,0BAAMG,UAAU,QAChB,kBAAC,EAAD,CAAoBlC,MAAM,6BAA6BJ,KAAMM,KAAKR,MAAMsC,oBAAqBrC,OAAQ,IACrG,kBAAC,EAAD,CAAoBK,MAAM,8BAA8BJ,KAAMM,KAAKR,MAAMuC,oBAAqBtC,OAAQ,KAGtG,4BAAQuC,UAAU,UAClB,kEAlDN,GAA0Bf,aCtF1BgB,IAASC,OAAO,kBAAC,EAAD,MAAUZ,SAASa,eAAe,W","file":"js/main.7bbade83.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './App.css';\r\nimport $ from 'jquery';\r\n\r\nclass EfficienciesWidget extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\"title\":\"\",\"data\":[],\"presentableData\":\"\",\"length\":5};\r\n    this.setState({\"data\":props.data});\r\n    this.setState({\"presentableData\": this.dataToPresent(props.data)});\r\n    this.state.title = props.title;\r\n    this.setState({\"length\":props.length});\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps !== this.props.value) {\r\n      if (nextProps.data) {\r\n        this.setState({\"data\": nextProps.data});\r\n        this.setState({\"presentableData\": this.dataToPresent(nextProps.data)});\r\n      }\r\n      else if (nextProps.title) {\r\n        this.setState({\"title\":nextProps.title});\r\n      }\r\n      else {\r\n        this.setState({\"title\":nextProps.title});\r\n        this.setState({\"data\": nextProps.data});\r\n        this.setState({\"presentableData\": this.dataToPresent(nextProps.data)});\r\n      }\r\n    }\r\n  }\r\n\r\n  dataToPresent(data) {\r\n    var presentable;\r\n\r\n    if (!data) {\r\n      presentable = [];\r\n    }\r\n    else {\r\n      try {\r\n        if (data.length <= this.state.length) {\r\n\r\n          console.log(\"if Data: \"+JSON.stringify(data));\r\n\r\n          presentable = data.slice(0,data.length+1);\r\n\r\n          console.log(\"if Data presentable: \"+JSON.stringify(data.slice(0,data.length+1)));\r\n        }\r\n        else {\r\n          console.log(\"else Data: \"+JSON.stringify(data));\r\n          presentable = data.slice(0,this.state.length);\r\n          console.log(\"else Data presentable: \"+JSON.stringify(data.slice(0,data.length+1)));\r\n        }\r\n      }\r\n      catch (e) {}\r\n    }\r\n\r\n    return (\r\n      <div>\r\n      {presentable && presentable.length &&\r\n        presentable.map((skill, i) => React.createElement(\"div\", {}, \"Skill: \"+skill[\"skill\"]+\" with efficiency: \"+skill[\"avg\"]))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  increaseLength = () => {\r\n    if (this.state.length <= this.state.data.length) {\r\n      this.setState({\"length\":this.state.length+=1});\r\n      this.setState({\"presentableData\": this.dataToPresent(this.state.data)});\r\n    }\r\n  }\r\n  decreaseLength = () => {\r\n    if (this.state.length > 1) {\r\n      this.setState({\"length\":this.state.length-=1});\r\n      this.setState({\"presentableData\": this.dataToPresent(this.state.data)});\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <html>\r\n      <span class=\"EfficiencyWidgetTitleBar\">\r\n        <b>{this.state.title}</b>\r\n        <button onClick={this.increaseLength}>Up</button>\r\n        <button onClick={this.decreaseLength}>Down</button>\r\n      </span>\r\n      <p>{this.state.presentableData}</p>\r\n      </html>\r\n    )\r\n  };\r\n};\r\n\r\nexport class Body extends Component {\r\n\r\n///////////////////////////////////////////////////////////////////\r\n// Initialisation function/////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n\r\n  getUserData = () => {\r\n    let _this = this;\r\n    $(document).ready(function(){\r\n      // Get user details\r\n      var req = $.ajax({url: \"/getuser\",\r\n                        type: \"POST\" ,\r\n                        data: []\r\n                      });\r\n\r\n      try {\r\n        req.done(function(data) {\r\n          _this.setState({username: data.username});\r\n          _this.setState({timeEfficienciesMax: data.timeEfficienciesMax});\r\n          _this.setState({timeEfficienciesMin: data.timeEfficienciesMin});\r\n        });\r\n      }\r\n      catch (e) {};\r\n    });\r\n  };\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    // Setup all state variables for the body\r\n    this.state = {\r\n      username: \"\",\r\n      timeEfficienciesMax: {},\r\n      timeEfficienciesMin: {}\r\n    }\r\n    this.getUserData();\r\n\r\n  }\r\n\r\n  render() {\r\n      return (\r\n      <html>\r\n      <h1 className=\"title\"><b>Welcome, {this.state.username}</b></h1>\r\n      <body className=\"Body\">\r\n      <EfficienciesWidget title=\"Best Max Time Efficiencies\" data={this.state.timeEfficienciesMax} length={5} />\r\n      <EfficienciesWidget title=\"Worst Min Time Efficiencies\" data={this.state.timeEfficienciesMin} length={5} />\r\n      </body>\r\n\r\n      <footer className=\"footer\">\r\n      <b>Alex Bainbridge 2019-2020 NEA</b>\r\n      </footer>\r\n      </html>\r\n    );\r\n  };\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { Body } from './App';\r\n\r\n// place the app js file into the html document\r\nReactDOM.render(<Body />, document.getElementById('body'));\r\n"],"sourceRoot":""}