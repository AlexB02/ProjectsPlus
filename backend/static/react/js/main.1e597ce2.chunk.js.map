{"version":3,"sources":["App.js","index.js"],"names":["EfficienciesWidget","props","state","setState","data","dataToPresent","title","nextProps","this","value","presentable","length","slice","e","map","skill","i","React","createElement","presentableData","Component","Body","getUserData","_this","$","document","ready","req","ajax","url","type","done","username","timeEfficienciesMax","timeEfficienciesMin","className","ReactDOM","render","getElementById"],"mappings":"4SAIMA,E,YAEJ,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KACDC,MAAQ,CAAC,MAAQ,GAAG,KAAO,GAAG,gBAAkB,IACrD,EAAKC,SAAS,CAAC,KAAOF,EAAMG,OAC5B,EAAKD,SAAS,CAAC,gBAAmB,EAAKE,cAAcJ,EAAMG,QAC3D,EAAKF,MAAMI,MAAQL,EAAMK,MALR,E,uFASOC,GACpBA,IAAcC,KAAKP,MAAMQ,QACvBF,EAAUH,MACZI,KAAKL,SAAS,CAAC,KAAQI,EAAUH,OACjCI,KAAKL,SAAS,CAAC,gBAAmBK,KAAKH,cAAcE,EAAUH,SAExDG,EAAUD,MACjBE,KAAKL,SAAS,CAAC,MAAQI,EAAUD,SAGjCE,KAAKL,SAAS,CAAC,MAAQI,EAAUD,QACjCE,KAAKL,SAAS,CAAC,KAAQI,EAAUH,OACjCI,KAAKL,SAAS,CAAC,gBAAmBK,KAAKH,cAAcE,EAAUH,Y,oCAKvDA,GACZ,IAAIM,EAEJ,GAAKN,EAIH,IAEIM,EADEN,EAAKO,QAAU,EACHP,EAAKQ,MAAM,EAAER,EAAKO,QAGlBP,EAAKQ,MAAM,EAAE,GAG/B,MAAOC,SAXPH,EAAc,GAchB,OACE,6BACCA,GAAeA,EAAYC,QAC1BD,EAAYI,KAAI,SAACC,EAAOC,GAAR,OAAcC,IAAMC,cAAc,MAAO,GAAI,UAAUH,EAAK,MAAU,qBAAqBA,EAAK,W,+BAMpH,OACE,8BACA,2BAAIP,KAAKN,MAAMI,OACf,2BAAIE,KAAKN,MAAMiB,sB,GA1DYF,IAAMG,WAgE1BC,EAAb,YA0BE,WAAYpB,GAAQ,IAAD,8BAEjB,4CAAMA,KAtBRqB,YAAc,WACZ,IAAIC,EAAK,eACTC,IAAEC,UAAUC,OAAM,WAEhB,IAAIC,EAAMH,IAAEI,KAAK,CAACC,IAAK,WACLC,KAAM,OACN1B,KAAM,KAGxB,IACEuB,EAAII,MAAK,SAAS3B,GAChBmB,EAAMpB,SAAS,CAAC6B,SAAU5B,EAAK4B,WAC/BT,EAAMpB,SAAS,CAAC8B,oBAAqB7B,EAAK6B,sBAC1CV,EAAMpB,SAAS,CAAC+B,oBAAqB9B,EAAK8B,yBAG9C,MAAOrB,SAUT,EAAKX,MAAQ,CACX8B,SAAU,GACVC,oBAAqB,GACrBC,oBAAqB,IAEvB,EAAKZ,cAXY,EA1BrB,sEA0CM,OACA,8BACA,wBAAIa,UAAU,SAAQ,uCAAa3B,KAAKN,MAAM8B,WAC9C,0BAAMG,UAAU,QAChB,kBAAC,EAAD,CAAoB7B,MAAM,6BAA6BF,KAAMI,KAAKN,MAAM+B,sBACxE,kBAAC,EAAD,CAAoB3B,MAAM,8BAA8BF,KAAMI,KAAKN,MAAMgC,uBAGzE,4BAAQC,UAAU,UAClB,kEAnDN,GAA0Bf,aC9D1BgB,IAASC,OAAO,kBAAC,EAAD,MAAUZ,SAASa,eAAe,W","file":"js/main.1e597ce2.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './App.css';\r\nimport $ from 'jquery';\r\n\r\nclass EfficienciesWidget extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\"title\":\"\",\"data\":[],\"presentableData\":\"\"};\r\n    this.setState({\"data\":props.data});\r\n    this.setState({\"presentableData\": this.dataToPresent(props.data)});\r\n    this.state.title = props.title;\r\n\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps !== this.props.value) {\r\n      if (nextProps.data) {\r\n        this.setState({\"data\": nextProps.data});\r\n        this.setState({\"presentableData\": this.dataToPresent(nextProps.data)});\r\n      }\r\n      else if (nextProps.title) {\r\n        this.setState({\"title\":nextProps.title});\r\n      }\r\n      else {\r\n        this.setState({\"title\":nextProps.title});\r\n        this.setState({\"data\": nextProps.data});\r\n        this.setState({\"presentableData\": this.dataToPresent(nextProps.data)});\r\n      }\r\n    }\r\n  }\r\n\r\n  dataToPresent(data) {\r\n    var presentable;\r\n\r\n    if (!data) {\r\n      presentable = [];\r\n    }\r\n    else {\r\n      try {\r\n        if (data.length <= 5) {\r\n          presentable = data.slice(0,data.length);\r\n        }\r\n        else {\r\n          presentable = data.slice(0,5);\r\n        }\r\n      }\r\n      catch (e) {}\r\n    }\r\n\r\n    return (\r\n      <div>\r\n      {presentable && presentable.length &&\r\n        presentable.map((skill, i) => React.createElement(\"div\", {}, \"Skill: \"+skill[\"skill\"]+\" with efficiency: \"+skill[\"avg\"]))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <html>\r\n      <p>{this.state.title}</p>\r\n      <p>{this.state.presentableData}</p>\r\n      </html>\r\n    )\r\n  };\r\n};\r\n\r\nexport class Body extends Component {\r\n\r\n///////////////////////////////////////////////////////////////////\r\n// Initialisation function/////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n\r\n  getUserData = () => {\r\n    let _this = this;\r\n    $(document).ready(function(){\r\n      // Get user details\r\n      var req = $.ajax({url: \"/getuser\",\r\n                        type: \"POST\" ,\r\n                        data: []\r\n                      });\r\n\r\n      try {\r\n        req.done(function(data) {\r\n          _this.setState({username: data.username});\r\n          _this.setState({timeEfficienciesMax: data.timeEfficienciesMax});\r\n          _this.setState({timeEfficienciesMin: data.timeEfficienciesMin});\r\n        });\r\n      }\r\n      catch (e) {};\r\n    });\r\n  };\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n    // Bind all the functions to the component\r\n\r\n    // Setup all state variables for the body\r\n    this.state = {\r\n      username: \"\",\r\n      timeEfficienciesMax: {},\r\n      timeEfficienciesMin: {}\r\n    }\r\n    this.getUserData();\r\n\r\n  }\r\n\r\n  render() {\r\n      return (\r\n      <html>\r\n      <h1 className=\"title\"><b>Welcome, {this.state.username}</b></h1>\r\n      <body className=\"Body\">\r\n      <EfficienciesWidget title=\"Best Max Time Efficiencies\" data={this.state.timeEfficienciesMax} />\r\n      <EfficienciesWidget title=\"Worst Min Time Efficiencies\" data={this.state.timeEfficienciesMin} />\r\n      </body>\r\n\r\n      <footer className=\"footer\">\r\n      <b>Alex Bainbridge 2019-2020 NEA</b>\r\n      </footer>\r\n      </html>\r\n    );\r\n  };\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Body } from './App';\n\n// place the app js file into the html document\nReactDOM.render(<Body />, document.getElementById('body'));\n"],"sourceRoot":""}