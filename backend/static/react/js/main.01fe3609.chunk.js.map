{"version":3,"sources":["App.js","index.js"],"names":["Tracker","styled","div","ProgressFillUp","props","percentage","ProgressBar","state","efficiency","this","fillup","React","Component","EfficiencyProgress","text","EfficienciesWidget","increaseLength","length","data","setState","dataToPresent","decreaseLength","title","nextProps","value","presentable","slice","e","map","skill","i","createElement","className","class","onClick","presentableData","NavBar","logOut","window","location","href","username","Body","getUserData","_this","$","document","ready","req","ajax","url","type","done","timeEfficienciesMax","timeEfficienciesMin","scheduleEfficienciesMax","ReactDOM","render","getElementById"],"mappings":"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","file":"js/main.01fe3609.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport styled from \"styled-components\";\r\nimport './App.css';\r\nimport $ from 'jquery';\r\n\r\nconst Tracker = styled.div`\r\n  width: 100%;\r\n  height: 20px;\r\n  margin: 15px auto;\r\n  background: #FFFFFF;\r\n  border-radius: 10px;\r\n  border-color: #bebebe;\r\n  border-style: solid;\r\n  align-items: left;\r\n`\r\n\r\nconst ProgressFillUp = styled.div`\r\n  width: ${props => props.percentage}%;\r\n  height: 20px;\r\n  background: #00CC66;\r\n  border-radius: 6px;\r\n`\r\n\r\nclass ProgressBar extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\"fillup\":(props.efficiency/200)*100};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <html>\r\n      <Tracker>\r\n      <ProgressFillUp percentage={this.state.fillup}/>\r\n      </Tracker>\r\n      </html>\r\n    )\r\n  }\r\n}\r\n\r\nclass EfficiencyProgress extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\"text\":props.text,\"efficiency\":props.efficiency};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <html>\r\n      <div><ProgressBar efficiency={this.state.efficiency}/></div>\r\n      <div>{this.state.text}</div>\r\n      </html>\r\n    )\r\n  }\r\n}\r\n\r\nclass EfficienciesWidget extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\"title\":\"\",\"data\":[],\"presentableData\":\"\",\"length\":5};\r\n    this.setState({\"data\":props.data});\r\n    this.setState({\"presentableData\": this.dataToPresent(props.data)});\r\n    this.state.title = props.title;\r\n    this.setState({\"length\":props.length});\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps !== this.props.value) {\r\n      if (nextProps.data) {\r\n        this.setState({\"data\": nextProps.data});\r\n        this.setState({\"presentableData\": this.dataToPresent(nextProps.data)});\r\n      }\r\n      else if (nextProps.title) {\r\n        this.setState({\"title\":nextProps.title});\r\n      }\r\n      else {\r\n        this.setState({\"title\":nextProps.title});\r\n        this.setState({\"data\": nextProps.data});\r\n        this.setState({\"presentableData\": this.dataToPresent(nextProps.data)});\r\n      }\r\n    }\r\n  }\r\n\r\n  dataToPresent(data) {\r\n    var presentable;\r\n\r\n    if (!data) {\r\n      presentable = [];\r\n    }\r\n    else {\r\n      try {\r\n        if (data.length < this.state.length) {\r\n          this.setState({\"length\":data.length});\r\n          presentable = data.slice(0,data.length);\r\n        }\r\n        else {\r\n          presentable = data.slice(0,this.state.length);\r\n        }\r\n      }\r\n      catch (e) {}\r\n    }\r\n\r\n    return (\r\n\r\n      <div>\r\n      {presentable && presentable.length &&\r\n        presentable.map((skill, i) => React.createElement(EfficiencyProgress, {\"text\":\"Skill: \"+skill[\"skill\"]+\" with efficiency: \"+skill[\"avg\"],\"efficiency\":skill[\"avg\"]}))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  increaseLength = () => {\r\n    if (this.state.length < this.state.data.length) {\r\n      this.setState({\"length\":this.state.length+=1});\r\n      this.setState({\"presentableData\": this.dataToPresent(this.state.data)});\r\n    }\r\n  }\r\n  decreaseLength = () => {\r\n    if (this.state.length > 1) {\r\n      this.setState({\"length\":this.state.length-=1});\r\n      this.setState({\"presentableData\": this.dataToPresent(this.state.data)});\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <html className=\"widget\">\r\n      <span class=\"EfficiencyWidgetTitleBar\">\r\n        <b>{this.state.title} </b>\r\n        <button onClick={this.increaseLength}>Up</button>\r\n        <button onClick={this.decreaseLength}>Down</button>\r\n      </span>\r\n      <p>{this.state.presentableData}</p>\r\n      </html>\r\n    )\r\n  };\r\n};\r\n\r\nclass NavBar extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\"username\":\"\"};\r\n    this.setState({\"username\":props.username});\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    this.setState({\"username\":props.username});\r\n  }\r\n\r\n  logOut = () => {\r\n    window.location.href = \"/\";\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <html>\r\n      <div className=\"NavBar\">\r\n      <b><a>Welcome, {this.state.username}</a></b>\r\n      <b><a><button onClick={this.logOut}>Log Out</button></a></b>\r\n      </div>\r\n      </html>\r\n  )\r\n  }\r\n}\r\n\r\nexport class Body extends React.Component {\r\n\r\n///////////////////////////////////////////////////////////////////\r\n// Initialisation function/////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n\r\n  getUserData = () => {\r\n    let _this = this;\r\n    $(document).ready(function(){\r\n      // Get user details\r\n      var req = $.ajax({url: \"/getuser\",\r\n                        type: \"POST\" ,\r\n                        data: []\r\n                      });\r\n\r\n      try {\r\n        req.done(function(data) {\r\n          _this.setState({username: data.username});\r\n          _this.setState({timeEfficienciesMax: data.timeEfficienciesMax});\r\n          _this.setState({timeEfficienciesMin: data.timeEfficienciesMin});\r\n          _this.setState({scheduleEfficienciesMax: data.scheduleEfficienciesMax});\r\n        });\r\n      }\r\n      catch (e) {};\r\n    });\r\n  };\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    // Setup all state variables for the body\r\n    this.state = {\r\n      username: \"\",\r\n      timeEfficienciesMax: {},\r\n      timeEfficienciesMin: {},\r\n      scheduleEfficienciesMax: {}\r\n    }\r\n    this.getUserData();\r\n\r\n  }\r\n\r\n  render() {\r\n      return (\r\n      <html>\r\n      <NavBar className=\"NavBar\" username={this.state.username} />\r\n      <body className=\"Body\">\r\n      <div className=\"widgets\">\r\n        <div className=\"widgets-column\">\r\n          <EfficienciesWidget title=\"Best Max Time Efficiencies\" data={this.state.timeEfficienciesMax} length={5} />\r\n          <div className=\"verticalWidgetGap\"/>\r\n          <EfficienciesWidget title=\"Best Max Time Efficiencies\" data={this.state.timeEfficienciesMax} length={5} />\r\n          <div className=\"verticalWidgetGap\"/>\r\n          <EfficienciesWidget title=\"Best Max Time Efficiencies\" data={this.state.timeEfficienciesMax} length={5} />\r\n        </div>\r\n        <div className=\"horizontalWidgetGap\" />\r\n        <div className=\"widgets-column\">\r\n          <EfficienciesWidget title=\"Worst Min Time Efficiencies\" data={this.state.timeEfficienciesMin} length={5} />\r\n          <div className=\"verticalWidgetGap\"/>\r\n          <EfficienciesWidget title=\"Best Max Time Efficiencies\" data={this.state.timeEfficienciesMax} length={5} />\r\n          <div className=\"verticalWidgetGap\"/>\r\n          <EfficienciesWidget title=\"Best Max Time Efficiencies\" data={this.state.timeEfficienciesMax} length={5} />\r\n        </div>\r\n        <div className=\"horizontalWidgetGap\" />\r\n        <div className=\"widgets-column\">\r\n          <EfficienciesWidget title=\"Best Max Schedule Efficiencies\" data={this.state.scheduleEfficienciesMax} length={5} />\r\n          <div className=\"verticalWidgetGap\"/>\r\n          <EfficienciesWidget title=\"Best Max Time Efficiencies\" data={this.state.timeEfficienciesMax} length={5} />\r\n          <div className=\"verticalWidgetGap\"/>\r\n          <EfficienciesWidget title=\"Best Max Time Efficiencies\" data={this.state.timeEfficienciesMax} length={5} />\r\n        </div>\r\n      </div>\r\n      </body>\r\n\r\n      <footer className=\"footer\">\r\n      <b>Alex Bainbridge 2019-2020 NEA</b>\r\n      </footer>\r\n      </html>\r\n    );\r\n  };\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { Body } from './App';\r\n\r\n// place the app js file into the html document\r\nReactDOM.render(<Body />, document.getElementById('body'));\r\n"],"sourceRoot":""}