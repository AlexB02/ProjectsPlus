{"version":3,"sources":["App.js","index.js"],"names":["EfficienciesWidget","props","dataToPresent","data","presentable","skill","i","length","toString","state","setState","title","nextProps","this","value","presentableData","React","Component","Body","getUserData","_this","$","document","ready","req","ajax","url","type","done","username","efficiencies","e","className","ReactDOM","render","getElementById"],"mappings":"4SAIMA,E,YAcJ,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KAbRC,cAAgB,SAAAC,GACd,IAAIC,EAAc,GAElB,IAAK,IAAIC,KAASF,EAAM,CACtBC,GAAe,UAAUC,EACzB,IAAK,IAAIC,EAAIH,EAAKE,GAAOE,OAAO,EAAID,EAAIH,EAAKE,GAAOE,OAAO,GAAOD,GAAK,EAAIA,IACzEF,GAAe,KAAOD,EAAKE,GAAOC,GAAGE,WAAY,KAGrD,OAAOJ,GAKP,EAAKK,MAAQ,CAAC,MAAQ,GAAG,KAAO,GAAG,gBAAkB,IACrD,EAAKC,SAAS,CAAC,MAAQT,EAAMU,QAC7B,EAAKD,SAAS,CAAC,KAAOT,EAAME,OAC5B,EAAKO,SAAS,CAAC,gBAAmB,EAAKR,cAAcD,EAAME,QAL1C,E,uFAQOS,GACpBA,IAAcC,KAAKZ,MAAMa,QAC3BD,KAAKH,SAAS,CAAC,MAAQE,EAAUD,QACjCE,KAAKH,SAAS,CAAC,KAAQE,EAAUT,OACjCU,KAAKH,SAAS,CAAC,gBAAmBG,KAAKX,cAAcU,EAAUT,W,+BAKjE,OACE,8BACA,2BAAIU,KAAKJ,MAAME,OACf,2BAAIE,KAAKJ,MAAMM,sB,GAlCYC,IAAMC,WAwC1BC,EAAb,YAyBE,WAAYjB,GAAQ,IAAD,8BAEjB,4CAAMA,KArBRkB,YAAc,WACZ,IAAIC,EAAK,eACTC,IAAEC,UAAUC,OAAM,WAEhB,IAAIC,EAAMH,IAAEI,KAAK,CAACC,IAAK,WACLC,KAAM,OACNxB,KAAM,KAGxB,IACEqB,EAAII,MAAK,SAASzB,GAChBiB,EAAMV,SAAS,CAACmB,SAAU1B,EAAK0B,WAC/BT,EAAMV,SAAS,CAACoB,aAAc3B,EAAK2B,kBAGvC,MAAOC,SAUT,EAAKtB,MAAQ,CACXoB,SAAU,GACVC,aAAc,IAEhB,EAAKX,cAVY,EAzBrB,sEAwCM,OACA,8BACA,wBAAIa,UAAU,SAAQ,uCAAanB,KAAKJ,MAAMoB,WAC9C,0BAAMG,UAAU,QAChB,kBAAC,EAAD,CAAoBrB,MAAM,eAAeR,KAAMU,KAAKJ,MAAMqB,gBAG1D,4BAAQE,UAAU,UAClB,kEAhDN,GAA0Bf,aCtC1BgB,IAASC,OAAO,kBAAC,EAAD,MAAUZ,SAASa,eAAe,W","file":"js/main.b4de9b67.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './App.css';\r\nimport $ from 'jquery';\r\n\r\nclass EfficienciesWidget extends React.Component {\r\n\r\n  dataToPresent = data => {\r\n    var presentable = \"\";\r\n\r\n    for (var skill in data) {\r\n      presentable += \"Skill: \"+skill;\r\n      for (var i = data[skill].length-1; (i > data[skill].length-6) && (i > -1); i--) {\r\n        presentable += \"\\n\" + data[skill][i].toString()+ \"\\n\";\r\n      }\r\n    }\r\n    return presentable;\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\"title\":\"\",\"data\":{},\"presentableData\":\"\"};\r\n    this.setState({\"title\":props.title});\r\n    this.setState({\"data\":props.data});\r\n    this.setState({\"presentableData\": this.dataToPresent(props.data)});\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps !== this.props.value) {\r\n      this.setState({\"title\":nextProps.title});\r\n      this.setState({\"data\": nextProps.data});\r\n      this.setState({\"presentableData\": this.dataToPresent(nextProps.data)});\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <html>\r\n      <p>{this.state.title}</p>\r\n      <p>{this.state.presentableData}</p>\r\n      </html>\r\n    )\r\n  };\r\n};\r\n\r\nexport class Body extends Component {\r\n\r\n///////////////////////////////////////////////////////////////////\r\n// Initialisation function/////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////\r\n\r\n  getUserData = () => {\r\n    let _this = this;\r\n    $(document).ready(function(){\r\n      // Get user details\r\n      var req = $.ajax({url: \"/getuser\",\r\n                        type: \"POST\" ,\r\n                        data: {}\r\n                      });\r\n\r\n      try {\r\n        req.done(function(data) {\r\n          _this.setState({username: data.username});\r\n          _this.setState({efficiencies: data.efficiencies});\r\n        });\r\n      }\r\n      catch (e) {};\r\n    });\r\n  };\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n    // Bind all the functions to the component\r\n\r\n    // Setup all state variables for the body\r\n    this.state = {\r\n      username: \"\",\r\n      efficiencies: {}\r\n    }\r\n    this.getUserData();\r\n\r\n  }\r\n\r\n  render() {\r\n      return (\r\n      <html>\r\n      <h1 className=\"title\"><b>Welcome, {this.state.username}</b></h1>\r\n      <body className=\"Body\">\r\n      <EfficienciesWidget title=\"efficiencies\" data={this.state.efficiencies} />\r\n      </body>\r\n\r\n      <footer className=\"footer\">\r\n      <b>Alex Bainbridge 2019-2020 NEA</b>\r\n      </footer>\r\n      </html>\r\n    );\r\n  };\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Body } from './App';\n\n// place the app js file into the html document\nReactDOM.render(<Body />, document.getElementById('body'));\n"],"sourceRoot":""}